{% comment %} /workspaces/AAI/sections/aai-collection-courses-categories.liquid {% endcomment %}
<div class="collection-courses-categories {{ section.settings.custom_class }}" id="collection-categories-{{ section.id }}">
  <div class="container">
    {% if section.settings.title != blank %}
      <h2 class="categories-title">{{ section.settings.title | escape }}</h2>
    {% endif %}
    <div class="categories-list">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'category' %}
            <a href="{{ block.settings.link_url | default: '#' }}" class="category-item">
              {% if block.settings.icon_svg != blank %}
                <div class="category-icon">{{ block.settings.icon_svg }}</div>
              {% elsif block.settings.icon_image != blank %}
                <div class="category-icon">
                  <img src="{{ block.settings.icon_image | image_url: width: 80 }}" alt="{{ block.settings.category_name | escape }}" loading="lazy">
                </div>
              {% endif %}
              <span class="category-name">{{ block.settings.category_name | escape }}</span>
            </a>
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "AAI Course Categories",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Browse by Category"
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom CSS Class"
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "text",
          "id": "category_name",
          "label": "Category Name",
          "default": "Safety Management"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Icon Image"
        },
        {
          "type": "html",
          "id": "icon_svg",
          "label": "Icon SVG Code",
          "info": "Alternative to image. Paste SVG code here."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "AAI Course Categories",
      "settings": {
        "title": "Course Categories"
      },
      "blocks": [
        { "type": "category", "settings": { "category_name": "Safety Management", "link_url": "/collections/courses?filter=safety", "icon_svg": "üõ°Ô∏è" } },
        { "type": "category", "settings": { "category_name": "Operations", "link_url": "/collections/courses?filter=operations", "icon_svg": "‚öôÔ∏è" } },
        { "type": "category", "settings": { "category_name": "Maintenance", "link_url": "/collections/courses?filter=maintenance", "icon_svg": "üîß" } },
        { "type": "category", "settings": { "category_name": "Leadership", "link_url": "/collections/courses?filter=leadership", "icon_svg": "üë•" } }
      ]
    }
  ]
}
{% endschema %}
