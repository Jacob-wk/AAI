{% comment %}
COPILOT CONTEXT:
- This component must exactly match course card styling from aai-lms-mockup.html
- Professional development focus (not casual e-commerce)
- Industry authority aesthetic (safety credentials prominent)
- All interactions should reflect professional education context
- Color scheme: Authority Navy (#1e3a5f), Safety Orange (#ff6b35), Electric Blue (#3498db)
{% endcomment %}

{{ 'section-course-catalog.css' | asset_url | stylesheet_tag }}
{{ 'section-course-catalog.js' | asset_url | script_tag }}

<section class="aai-section aai-home-section" id="courses-section">
  <div class="aai-container">
    <div class="aai-section-header">
      <h2>{{ section.settings.section_title | default: 'Professional Development Courses' }}</h2>
      <p class="aai-section-subtitle">{{ section.settings.section_subtitle | default: 'Industry-leading safety education designed by experts, for experts. Advance your career with our comprehensive certification programs.' }}</p>
    </div>

    <!-- Professional Course Categories -->
    <div class="aai-course-categories">
      <button class="aai-category-tab active" data-category="all">All Courses</button>
      <button class="aai-category-tab" data-category="safety">Safety Regulations</button>
      <button class="aai-category-tab" data-category="operations">Operations</button>
      <button class="aai-category-tab" data-category="water">Water Parks</button>
      <button class="aai-category-tab" data-category="compliance">Compliance</button>
    </div>

    <!-- Professional Course Grid -->
    <div class="aai-grid aai-grid-auto" id="aai-course-grid">
      {%- for product in collections[section.settings.collection].products limit: section.settings.products_to_show -%}
        {% render 'course-card-professional', product: product %}
      {%- else -%}
        <!-- Demo courses for mockup replication -->
        {% render 'course-card-demo' %}
      {%- endfor -%}
    </div>

    <div style="text-align: center; margin-top: 40px;">
      <a href="{{ section.settings.view_all_url | default: '/collections/courses' }}" class="aai-btn aai-btn-primary">
        {{ section.settings.view_all_text | default: 'View All Courses' }}
      </a>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "AAI Course Catalog",
  "settings": [
    {
      "type": "header",
      "content": "Section Content"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Professional Development Courses"
    },
    {
      "type": "textarea",
      "id": "section_subtitle",
      "label": "Section Subtitle",
      "default": "Industry-leading safety education designed by experts, for experts. Advance your career with our comprehensive certification programs."
    },
    {
      "type": "header",
      "content": "Course Collection"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Course Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 3,
      "max": 12,
      "step": 3,
      "unit": "courses",
      "label": "Number of courses to show",
      "default": 6
    },
    {
      "type": "header",
      "content": "View All Button"
    },
    {
      "type": "text",
      "id": "view_all_text",
      "label": "View All Button Text",
      "default": "View All Courses"
    },
    {
      "type": "url",
      "id": "view_all_url",
      "label": "View All Button URL"
    },
    {
      "type": "header",
      "content": "Filtering Options"
    },
    {
      "type": "checkbox",
      "id": "show_filters",
      "label": "Show filters",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_search",
      "label": "Show search bar",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_sorting",
      "label": "Show sorting options",
      "default": true
    },
    {
      "type": "select",
      "id": "default_sort",
      "label": "Default sort order",
      "options": [
        {
          "value": "title-ascending",
          "label": "Title A-Z"
        },
        {
          "value": "title-descending", 
          "label": "Title Z-A"
        },
        {
          "value": "price-ascending",
          "label": "Price low to high"
        },
        {
          "value": "price-descending",
          "label": "Price high to low"
        },
        {
          "value": "created-descending",
          "label": "Newest first"
        }
      ],
      "default": "title-ascending"
    },
    {
      "type": "range",
      "id": "courses_per_page",
      "min": 6,
      "max": 24,
      "step": 6,
      "label": "Courses per page",
      "default": 12
    }
  ],
  "blocks": [
    {
      "type": "filter_category",
      "name": "Category Filter",
      "settings": [
        {
          "type": "text",
          "id": "filter_name",
          "label": "Filter Name",
          "default": "Category"
        },
        {
          "type": "textarea",
          "id": "filter_values",
          "label": "Filter Values (comma separated)",
          "default": "Safety Training, Operations, Compliance"
        }
      ]
    },
    {
      "type": "filter_duration",
      "name": "Duration Filter",
      "settings": [
        {
          "type": "text",
          "id": "filter_name",
          "label": "Filter Name",
          "default": "Duration"
        },
        {
          "type": "textarea",
          "id": "filter_values",
          "label": "Filter Values (comma separated)",
          "default": "1-2 hours, 3-4 hours, 1 day, Multi-day"
        }
      ]
    },
    {
      "type": "filter_level",
      "name": "Skill Level Filter",
      "settings": [
        {
          "type": "text",
          "id": "filter_name",
          "label": "Filter Name",
          "default": "Skill Level"
        },
        {
          "type": "textarea",
          "id": "filter_values",
          "label": "Filter Values (comma separated)",
          "default": "Beginner, Intermediate, Advanced, Expert"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "AAI Course Catalog",
      "settings": {
        "section_title": "Explore Our Course Catalog",
        "section_subtitle": "Find the perfect course to advance your skills and career in the amusement industry. From safety certifications to operational excellence.",
        "products_to_show": 6,
        "view_all_text": "See All Available Courses",
        "view_all_url": "/collections/all",
        "show_filters": true,
        "show_search": true,
        "show_sorting": true,
        "default_sort": "title-ascending",
        "courses_per_page": 12
      },
      "blocks": [
        {
          "type": "filter_category",
          "settings": {
            "filter_name": "Course Category",
            "filter_values": "Safety & Compliance, Ride Operations, Maintenance, Guest Services, Management"
          }
        },
        {
          "type": "filter_duration",
          "settings": {
            "filter_name": "Estimated Duration",
            "filter_values": "Up to 4 hours, 1 Day, 2-3 Days, Self-Paced"
          }
        },
        {
          "type": "filter_level",
          "settings": {
            "filter_name": "Experience Level",
            "filter_values": "Entry Level, Intermediate, Advanced, Leadership"
          }
        }
      ]
    }
  ]
}
{% endschema %}
