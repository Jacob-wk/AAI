{% comment %}
  Help Center Contact Section
{% endcomment %}

{{ 'section-help-center.css' | asset_url | stylesheet_tag }}

<section class="support-contact {{ section.settings.background_style }}">
  <div class="aai-container">
    <div class="support-card">
      <h2>{{ section.settings.title }}</h2>
      <p>{{ section.settings.subtitle }}</p>
      
      <div class="contact-options">
        {% for block in section.blocks %}
          <div class="contact-method" {{ block.shopify_attributes }}>
            {% if block.settings.icon_svg != blank %}
              <div class="contact-icon">{{ block.settings.icon_svg }}</div>
            {% endif %}
            <div class="contact-info">
              <h3>{{ block.settings.method_title }}</h3>
              <p>{{ block.settings.method_description }}</p>
              {% if block.settings.link_url != blank and block.settings.link_text != blank %}
                {% if block.settings.is_chat_button %}
                  <button class="contact-link chat-btn" onclick="{{ block.settings.chat_function }}">{{ block.settings.link_text }}</button>
                {% else %}
                  <a href="{{ block.settings.link_url }}" class="contact-link">{{ block.settings.link_text }}</a>
                {% endif %}
              {% endif %}
              {% if block.settings.availability != blank %}
                <small>{{ block.settings.availability }}</small>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% if section.blocks contains 'chat_button' %}
<script>
  function handleAaLChat() {
    alert('Live chat would connect you to our support team during business hours. For now, please use email or phone support.');
  }
</script>
{% endif %}

{% schema %}
{
  "name": "Help Contact",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Still Need Help?"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Our expert support team is here to assist you with any questions about your professional development journey."
    },
    {
      "type": "select",
      "id": "background_style",
      "label": "Background Style",
      "options": [
        { "value": "section-alt-1", "label": "Alternative Background 1" },
        { "value": "section-alt-2", "label": "Alternative Background 2" },
        { "value": "section-alt-3", "label": "Alternative Background 3" },
        { "value": "section-dark", "label": "Dark Background" },
        { "value": "", "label": "Default" }
      ],
      "default": "section-alt-1"
    }
  ],
  "blocks": [
    {
      "type": "contact_method",
      "name": "Contact Method",
      "settings": [
        {
          "type": "html",
          "id": "icon_svg",
          "label": "Icon SVG Code"
        },
        {
          "type": "text",
          "id": "method_title",
          "label": "Method Title",
          "default": "Email Support"
        },
        {
          "type": "textarea",
          "id": "method_description",
          "label": "Description",
          "default": "Get detailed help from our team"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL (or mailto: or tel:)"
        },
        {
          "type": "text",
          "id": "availability",
          "label": "Availability (e.g., Mon-Fri 8AM-6PM EST)"
        },
        {
          "type": "checkbox",
          "id": "is_chat_button",
          "label": "Is this a chat button?",
          "default": false
        },
        {
          "type": "text",
          "id": "chat_function",
          "label": "Chat JS Function Name",
          "default": "handleAaLChat()",
          "info": "Only used if 'Is this a chat button?' is checked. Define this JS function."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Help Contact Options",
      "settings": {},
      "blocks": [
        {
          "type": "contact_method",
          "settings": {
            "icon_svg": "<svg width='24' height='24' viewBox='0 0 24 24' fill='currentColor'><path d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/></svg>",
            "method_title": "Email Support",
            "method_description": "Get detailed help from our team",
            "link_text": "support@aai-institute.com",
            "link_url": "mailto:support@aai-institute.com"
          }
        },
        {
          "type": "contact_method",
          "settings": {
            "icon_svg": "<svg width='24' height='24' viewBox='0 0 24 24' fill='currentColor'><path d='M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z'/></svg>",
            "method_title": "Phone Support",
            "method_description": "Speak directly with our team",
            "link_text": "1-800-SAFETY-1",
            "link_url": "tel:1-800-723-3891",
            "availability": "Mon-Fri 8AM-6PM EST"
          }
        },
        {
          "type": "contact_method",
          "settings": {
            "icon_svg": "<svg width='24' height='24' viewBox='0 0 24 24' fill='currentColor'><path d='M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M12,4A0,0 0 0,0 12,4A0,0 0 0,0 12,4M7.5,7.5A0.5,0.5 0 0,0 7,8A0.5,0.5 0 0,0 7.5,8.5A0.5,0.5 0 0,0 8,8A0.5,0.5 0 0,0 7.5,7.5M16.5,7.5A0.5,0.5 0 0,0 16,8A0.5,0.5 0 0,0 16.5,8.5A0.5,0.5 0 0,0 17,8A0.5,0.5 0 0,0 16.5,7.5Z'/></svg>",
            "method_title": "Live Chat",
            "method_description": "Instant assistance during business hours",
            "link_text": "Start Chat",
            "is_chat_button": true,
            "chat_function": "handleAaLChat()",
            "availability": "Mon-Fri 8AM-6PM EST"
          }
        }
      ]
    }
  ]
}
{% endschema %}
