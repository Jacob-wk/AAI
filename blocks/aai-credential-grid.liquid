{% comment %}
  AAI Credential Grid Block
  Displays credentials, certifications, and achievements in a grid layout
  Compatible with AAI styling and AI generation
{% endcomment %}

{{ 'aai-credential-grid.css' | asset_url | stylesheet_tag }}

<div class="aai-credential-grid {% if block.settings.layout %}aai-credential-grid--{{ block.settings.layout }}{% endif %}" {{ block.shopify_attributes }}>
  {% if block.settings.heading != blank %}
    <h2 class="aai-credential-grid__heading">{{ block.settings.heading }}</h2>
  {% endif %}
  
  {% if block.settings.description != blank %}
    <div class="aai-credential-grid__description">
      {{ block.settings.description | newline_to_br }}
    </div>
  {% endif %}

  <div class="aai-credential-grid__container">
    {% for credential in (1..6) %}
      {% assign credential_title = 'credential_' | append: credential | append: '_title' %}
      {% assign credential_org = 'credential_' | append: credential | append: '_organization' %}
      {% assign credential_desc = 'credential_' | append: credential | append: '_description' %}
      {% assign credential_image = 'credential_' | append: credential | append: '_image' %}
      {% assign credential_link = 'credential_' | append: credential | append: '_link' %}
      
      {% if block.settings[credential_title] != blank %}
        <div class="aai-credential-item">
          {% if block.settings[credential_image] != blank %}
            <div class="aai-credential-item__image">
              <img src="{{ block.settings[credential_image] | image_url: width: 200 }}" 
                   alt="{{ block.settings[credential_title] }}"
                   loading="lazy">
            </div>
          {% endif %}
          
          <div class="aai-credential-item__content">
            <h3 class="aai-credential-item__title">{{ block.settings[credential_title] }}</h3>
            
            {% if block.settings[credential_org] != blank %}
              <p class="aai-credential-item__organization">{{ block.settings[credential_org] }}</p>
            {% endif %}
            
            {% if block.settings[credential_desc] != blank %}
              <p class="aai-credential-item__description">{{ block.settings[credential_desc] }}</p>
            {% endif %}
            
            {% if block.settings[credential_link] != blank %}
              <a href="{{ block.settings[credential_link] }}" class="aai-credential-item__link" target="_blank" rel="noopener">
                View Credential
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 3L11 8L6 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </a>
            {% endif %}
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "AAI Credential Grid",
  "tag": "section",
  "class": "aai-credential-grid-block",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Professional Credentials"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Showcase your professional certifications and achievements"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        {
          "value": "grid-2",
          "label": "2 Column Grid"
        },
        {
          "value": "grid-3",
          "label": "3 Column Grid"
        },
        {
          "value": "grid-4",
          "label": "4 Column Grid"
        },
        {
          "value": "list",
          "label": "List View"
        }
      ],
      "default": "grid-3"
    },
    {
      "type": "header",
      "content": "Credential 1"
    },
    {
      "type": "text",
      "id": "credential_1_title",
      "label": "Title",
      "default": "Professional AI Certification"
    },
    {
      "type": "text",
      "id": "credential_1_organization",
      "label": "Organization",
      "default": "AI Institute"
    },
    {
      "type": "textarea",
      "id": "credential_1_description",
      "label": "Description",
      "default": "Advanced certification in artificial intelligence and machine learning applications"
    },
    {
      "type": "image_picker",
      "id": "credential_1_image",
      "label": "Badge/Logo"
    },
    {
      "type": "url",
      "id": "credential_1_link",
      "label": "Verification Link"
    },
    {
      "type": "header",
      "content": "Credential 2"
    },
    {
      "type": "text",
      "id": "credential_2_title",
      "label": "Title",
      "default": "Data Science Certificate"
    },
    {
      "type": "text",
      "id": "credential_2_organization",
      "label": "Organization",
      "default": "Tech University"
    },
    {
      "type": "textarea",
      "id": "credential_2_description",
      "label": "Description",
      "default": "Comprehensive program covering data analysis, visualization, and predictive modeling"
    },
    {
      "type": "image_picker",
      "id": "credential_2_image",
      "label": "Badge/Logo"
    },
    {
      "type": "url",
      "id": "credential_2_link",
      "label": "Verification Link"
    },
    {
      "type": "header",
      "content": "Credential 3"
    },
    {
      "type": "text",
      "id": "credential_3_title",
      "label": "Title",
      "default": "Cloud Architecture Certification"
    },
    {
      "type": "text",
      "id": "credential_3_organization",
      "label": "Organization",
      "default": "Cloud Provider"
    },
    {
      "type": "textarea",
      "id": "credential_3_description",
      "label": "Description",
      "default": "Expert-level certification in cloud infrastructure design and implementation"
    },
    {
      "type": "image_picker",
      "id": "credential_3_image",
      "label": "Badge/Logo"
    },
    {
      "type": "url",
      "id": "credential_3_link",
      "label": "Verification Link"
    },
    {
      "type": "header",
      "content": "Credential 4"
    },
    {
      "type": "text",
      "id": "credential_4_title",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "credential_4_organization",
      "label": "Organization"
    },
    {
      "type": "textarea",
      "id": "credential_4_description",
      "label": "Description"
    },
    {
      "type": "image_picker",
      "id": "credential_4_image",
      "label": "Badge/Logo"
    },
    {
      "type": "url",
      "id": "credential_4_link",
      "label": "Verification Link"
    },
    {
      "type": "header",
      "content": "Credential 5"
    },
    {
      "type": "text", 
      "id": "credential_5_title",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "credential_5_organization",
      "label": "Organization"
    },
    {
      "type": "textarea",
      "id": "credential_5_description",
      "label": "Description"
    },
    {
      "type": "image_picker",
      "id": "credential_5_image",
      "label": "Badge/Logo"
    },
    {
      "type": "url",
      "id": "credential_5_link",
      "label": "Verification Link"
    },
    {
      "type": "header",
      "content": "Credential 6"
    },
    {
      "type": "text",
      "id": "credential_6_title",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "credential_6_organization",
      "label": "Organization"
    },
    {
      "type": "textarea",
      "id": "credential_6_description",
      "label": "Description"
    },
    {
      "type": "image_picker",
      "id": "credential_6_image",
      "label": "Badge/Logo"
    },
    {
      "type": "url",
      "id": "credential_6_link",
      "label": "Verification Link"
    }
  ],
  "presets": [
    {
      "name": "AAI Credential Grid",
      "settings": {
        "heading": "Professional Credentials",
        "description": "Showcase your professional certifications and achievements",
        "layout": "grid-3"
      }
    }
  ]
}
{% endschema %}
