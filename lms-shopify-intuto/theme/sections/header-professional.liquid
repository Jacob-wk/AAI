{% comment %}
COPILOT CONTEXT:
- This header must exactly match styling from aai-lms-mockup.html
- Professional development focus (not casual e-commerce)
- Industry authority aesthetic (safety credentials prominent)
- All interactions should reflect professional education context
- Color scheme: Authority Navy (#1e3a5f), Safety Orange (#ff6b35), Electric Blue (#3498db)
{% endcomment %}

{{ 'aai-core.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign section_width = 'max-width: 1200px; margin: 0 auto; padding: 0 20px;'
-%}

<header class="aai-header">
  <!-- Professional Credentials Bar -->
  <div class="aai-header-top">
    <div style="{{ section_width }}">
      <div class="aai-credentials">
        <span class="aai-credential-badge">IAAPA Certified</span>
        <span class="aai-credential-badge">ASTM F24 Compliant</span>
      </div>
      <div class="aai-contact-info">
        ðŸ“ž {{ section.settings.phone | default: '1-800-SAFETY-1' }} | ðŸ“§ {{ section.settings.email | default: 'info@aai-institute.com' }}
      </div>
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="aai-nav">
    <div style="{{ section_width }}">
      <div class="aai-logo">
        {%- if section.settings.logo != blank -%}
          <img src="{{ section.settings.logo | image_url: width: 150 }}" 
               alt="{{ shop.name }}" 
               width="150" 
               height="auto">
        {%- else -%}
          {{ section.settings.site_name | default: 'AAI Institute' }}
        {%- endif -%}
      </div>

      <!-- Professional Navigation Links -->
      <ul class="aai-nav-links">
        <li><a href="{{ routes.root_url }}">Home</a></li>
        <li><a href="{{ section.settings.courses_url | default: '/collections/courses' }}">Courses</a></li>
        <li><a href="{{ section.settings.about_url | default: '/pages/about' }}">About</a></li>
        <li><a href="{{ section.settings.demo_url | default: '/pages/demo' }}">Free Demo</a></li>
        <li><a href="{{ section.settings.certifications_url | default: '/pages/certifications' }}">Certifications</a></li>
      </ul>

      <!-- Professional Account Access -->
      {%- if customer -%}
        <a href="{{ routes.account_url }}" class="aai-account-link">
          My Dashboard
        </a>
      {%- else -%}
        <a href="{{ routes.account_login_url }}" class="aai-account-link">
          Professional Login
        </a>
      {%- endif -%}
    </div>
  </nav>
</header>

<!-- Professional Mobile Menu (Hidden by default, can be expanded) -->
<div class="aai-mobile-menu" style="display: none;">
  <div class="aai-mobile-menu-header">
    <span class="aai-logo">{{ section.settings.site_name | default: 'AAI Institute' }}</span>
    <button class="aai-mobile-close">&times;</button>
  </div>
  
  <nav class="aai-mobile-nav">
    <a href="{{ routes.root_url }}">Home</a>
    <a href="{{ section.settings.courses_url | default: '/collections/courses' }}">Courses</a>
    <a href="{{ section.settings.about_url | default: '/pages/about' }}">About</a>
    <a href="{{ section.settings.demo_url | default: '/pages/demo' }}">Free Demo</a>
    <a href="{{ section.settings.certifications_url | default: '/pages/certifications' }}">Certifications</a>
    
    <div class="aai-mobile-account">
      {%- if customer -%}
        <a href="{{ routes.account_url }}" class="aai-btn aai-btn-primary">My Dashboard</a>
      {%- else -%}
        <a href="{{ routes.account_login_url }}" class="aai-btn aai-btn-primary">Professional Login</a>
      {%- endif -%}
    </div>
  </nav>
</div>

<style>
  /* Additional mobile-specific styles */
  .aai-mobile-menu {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: var(--clean-white);
    z-index: 9999;
    padding: 20px;
  }

  .aai-mobile-menu-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--light-grey);
    margin-bottom: 30px;
  }

  .aai-mobile-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--authority-navy);
    cursor: pointer;
  }

  .aai-mobile-nav {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .aai-mobile-nav a {
    color: var(--charcoal-grey);
    text-decoration: none;
    font-weight: 500;
    padding: 15px 0;
    border-bottom: 1px solid var(--light-grey);
  }

  .aai-mobile-account {
    margin-top: 30px;
  }

  /* Professional responsive breakpoints */
  @media (max-width: 768px) {
    .aai-nav-links {
      display: none;
    }
    
    .aai-nav .container::after {
      content: 'â˜°';
      font-size: 1.5rem;
      color: var(--authority-navy);
      cursor: pointer;
      position: absolute;
      right: 80px;
      top: 50%;
      transform: translateY(-50%);
    }
    
    .aai-credentials {
      flex-direction: column;
      gap: 5px;
      text-align: center;
    }
    
    .aai-contact-info {
      display: none;
    }
  }

  @media (max-width: 480px) {
    .aai-logo {
      font-size: 1.2rem;
    }
    
    .aai-account-link {
      padding: 8px 16px;
      font-size: 0.875rem;
    }
    
    .aai-credential-badge {
      padding: 2px 8px;
      font-size: 0.625rem;
    }
  }
</style>

<script>
  // Professional mobile menu functionality
  document.addEventListener('DOMContentLoaded', function() {
    const nav = document.querySelector('.aai-nav .container');
    const mobileMenu = document.querySelector('.aai-mobile-menu');
    const mobileClose = document.querySelector('.aai-mobile-close');
    
    // Add mobile menu trigger
    if (window.innerWidth <= 768) {
      nav.addEventListener('click', function(e) {
        if (e.target.textContent === 'â˜°') {
          mobileMenu.style.display = 'block';
          document.body.style.overflow = 'hidden';
        }
      });
    }
    
    // Close mobile menu
    mobileClose?.addEventListener('click', function() {
      mobileMenu.style.display = 'none';
      document.body.style.overflow = 'auto';
    });
    
    // Close on outside click
    mobileMenu?.addEventListener('click', function(e) {
      if (e.target === mobileMenu) {
        mobileMenu.style.display = 'none';
        document.body.style.overflow = 'auto';
      }
    });
  });
</script>

{% schema %}
{
  "name": "AAI Professional Header",
  "settings": [
    {
      "type": "text",
      "id": "site_name",
      "label": "Site Name",
      "default": "AAI Institute"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo Image"
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Phone Number",
      "default": "1-800-SAFETY-1"
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email Address",
      "default": "info@aai-institute.com"
    },
    {
      "type": "url",
      "id": "courses_url",
      "label": "Courses Page URL",
      "default": "/collections/courses"
    },
    {
      "type": "url",
      "id": "about_url",
      "label": "About Page URL",
      "default": "/pages/about"
    },
    {
      "type": "url",
      "id": "demo_url",
      "label": "Demo Page URL",
      "default": "/pages/demo"
    },
    {
      "type": "url",
      "id": "certifications_url",
      "label": "Certifications Page URL",
      "default": "/pages/certifications"
    }
  ]
}
{% endschema %}
